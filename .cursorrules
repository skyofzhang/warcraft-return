# Warcraft Return - Cursor AI Rules V1.1.1
# MTé­”å…½å½’æ¥é¡¹ç›® - AIå¼€å‘åè®®
# æ›´æ–°æ—¥æœŸ: 2026-02-05

## ğŸ¯ é¡¹ç›®ä¿¡æ¯
- é¡¹ç›®å: MTé­”å…½å½’æ¥ (Warcraft Return)
- å¼•æ“: Unity 2022.3.47f1c1
- Unityè·¯å¾„: D:\program‚2.3.47f1c1ditor\Unity.exe
- é¡¹ç›®è·¯å¾„: E:\AI_Project\MT
- å¹³å°: Android ARM64
- æ¸²æŸ“ç®¡çº¿: URP14

## ğŸ“‹ å¼€å‘æµç¨‹

### 1. å¯åŠ¨æ—¶å¿…é¡»è¯»å–
- .task/current_task.json - å½“å‰ä»»åŠ¡
- .task/PROTOCOL.json - é€šä¿¡åè®®
- æ ¹æ®ä»»åŠ¡IDæ‰§è¡Œå¼€å‘

### 2. ä»»åŠ¡æ‰§è¡Œè§„èŒƒ
- ä¸¥æ ¼æŒ‰ç…§current_task.jsonä¸­çš„acceptance_criteriaæ‰§è¡Œ
- æ¯å®Œæˆä¸€ä¸ªéªŒæ”¶æ ‡å‡†ï¼Œåœ¨ä»£ç ä¸­ç”¨æ³¨é‡Šæ ‡è®°
- é‡åˆ°é—®é¢˜å…ˆæŸ¥çœ‹ç›¸å…³ä»£ç ï¼Œä¸è¦ç›²ç›®é‡å†™
- ç°æœ‰70+æ–‡ä»¶ï¼Œä¿®æ”¹å‰å…ˆç†è§£ä¾èµ–å…³ç³»

### 3. Gitæäº¤è§„èŒƒ
- å®Œæˆä»»åŠ¡: git commit -m "[NODE_COMPLETE] MT-XXX: ç®€çŸ­æè¿°"
- è¿›åº¦æ›´æ–°: git commit -m "[PROGRESS] MT-XXX: è¿›åº¦æè¿°"
- é‡åˆ°é—®é¢˜: å†™å…¥ .task/ask_claude.json å¹¶ git commit -m "[ASK_CLAUDE] é—®é¢˜ç®€è¿°"
- æ¨é€: git push origin main

### 4. æˆªå›¾éªŒæ”¶
- å®Œæˆä»»åŠ¡ååœ¨Unityä¸­æˆªå›¾
- ä¿å­˜åˆ° .task/screenshots/MT-XXX.png
- æ›´æ–° .task/task_result.json

## ğŸ”§ ç»ˆç«¯è§„åˆ™ï¼ˆPowerShellï¼‰
- ä½¿ç”¨ ; è¿æ¥å‘½ä»¤ï¼ˆä¸ç”¨ &&ï¼‰
- è·¯å¾„ç”¨å¼•å·åŒ…è£¹
- åˆ é™¤ç”¨ Remove-Item
- å¤åˆ¶ç”¨ Copy-Item

## ğŸ—ï¸ è‡ªåŠ¨æ‰“åŒ…SOP

### Step 1: å…³é—­Unity GUI
Get-Process -Name "Unity" -ErrorAction SilentlyContinue | Stop-Process -Force; Start-Sleep -Seconds 5

### Step 2: å‘½ä»¤è¡Œæ‰“åŒ…
& "D:\program‚2.3.47f1c1ditor\Unity.exe" -batchmode -nographics -projectPath "E:\AI_Project\MT" -executeMethod BuildScript.BuildFromCommandLine -quit -logFile "E:\AI_Project\MTuild.log"

### Step 3: ç­‰å¾…æ‰“åŒ…å®Œæˆ
$process = Get-Process -Name "Unity" -ErrorAction SilentlyContinue
while ($process) { Start-Sleep -Seconds 10; $process = Get-Process -Name "Unity" -ErrorAction SilentlyContinue }

### Step 4: æ£€æŸ¥ç»“æœ
if (Test-Path "E:\AI_Project\MT\Builds\Android\WarcraftReturn.apk") { Write-Host "BUILD SUCCESS" } else { Write-Host "BUILD FAILED"; Get-Content "E:\AI_Project\MTuild.log" -Tail 50 }

### Step 5: é‡æ–°æ‰“å¼€Unityï¼ˆå¦‚éœ€ç»§ç»­å¼€å‘ï¼‰
Start-Process "D:\program‚2.3.47f1c1ditor\Unity.exe" -ArgumentList "-projectPath","E:\AI_Project\MT"

### æ•…éšœæ’é™¤
- "Another Unity instance" â†’ Step 1æ²¡æ‰§è¡Œæˆ–ç­‰å¾…ä¸å¤Ÿï¼ŒåŠ å¤§Sleep
- ç¼–è¯‘é”™è¯¯ â†’ æŸ¥çœ‹build.logæœ€å50è¡Œ
- æ‰¾ä¸åˆ°BuildScript â†’ ç¡®è®¤Assets/Editor/BuildScript.cså­˜åœ¨

## ğŸ“‚ é¡¹ç›®æ¶æ„
Assets/Scripts/
â”œâ”€â”€ Core/ (GameManager, BootLoader, EventManager, ConfigManager, SaveSystem...)
â”œâ”€â”€ Combat/ (CombatSystem, BattleVfxManager...)
â”œâ”€â”€ Gameplay/ (PlayerController, MonsterController...)
â”œâ”€â”€ Systems/ (EquipmentManager, InventoryService, LootManager...)
â”œâ”€â”€ UI/ (UIManager, MainMenuPanel, GameplayPanel, InventoryPanel...)
â”œâ”€â”€ Data/ (ConfigDataClasses, SaveDataClasses...)
â””â”€â”€ Environment/ (WangZheCanyonMapBuilder...)

Assets/Scenes/
â”œâ”€â”€ Boot.unity (å¯åŠ¨åœºæ™¯)
â”œâ”€â”€ MainMenu.unity (ä¸»èœå•)
â””â”€â”€ Gameplay.unity (æˆ˜æ–—åœºæ™¯)

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹
- æœ¬é¡¹ç›®å·²æœ‰70+ä¸ªC#æ–‡ä»¶ï¼Œä¸è¦é‡å¤åˆ›å»ºå·²å­˜åœ¨çš„ç±»
- ä¿®æ”¹å‰å…ˆè¯»å–ç›¸å…³æ–‡ä»¶ç†è§£ç°æœ‰é€»è¾‘
- GameManager.csæ˜¯æ ¸å¿ƒ(22KB)ï¼Œä¿®æ”¹éœ€è°¨æ…
- ConfigManager.csç®¡ç†æ‰€æœ‰é…ç½®(15KB)
- ä½¿ç”¨WarcraftReturn.asmdefç¨‹åºé›†å®šä¹‰
- ç¡®ä¿æ‰€æœ‰æ–°è„šæœ¬åœ¨æ­£ç¡®çš„å‘½åç©ºé—´ä¸‹

## ğŸ® è´¨é‡æ ‡å‡†
- æ— ç¼–è¯‘é”™è¯¯
- æ— è¿è¡Œæ—¶NullReferenceException
- 60fpsç›®æ ‡å¸§ç‡
- å†…å­˜å ç”¨<200MB
- APKå¤§å°<100MB
